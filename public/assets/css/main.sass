@import "main/variables.sass"
@import "main/mixins.sass"
@import "main/globals.sass"
@import "main/home.sass"
@import "main/sections.sass"

body 
	+font()
	padding-bottom: $margin * 4

	.background
		position: fixed
		left: 0
		right: 0
		height: 100%
		z-index: -10
		opacity: .1
		top: 100%
		-webkit-transition: all .3s ease-out
		-moz-transition: all .3s ease-out
		-o-transition: all .3s ease-out
		transition: all .3s ease-out

	&.scrolled .background
		top: 0

	.row
		&.banner
			padding-top: $margin
			nav#utility
				float: right
				a
					margin-left: $margin * 2
					&.dashicons
						font-size: 200%
						line-height: .7
						&:last-child
							margin-left: $margin / 2
						&:hover, &:focus, &:active
							text-decoration: none

		&.nav
			padding-top: $margin * 2
			ul
				list-style-type: none
				text-align: justify
				overflow: hidden
				margin: 0
				padding: 0
				font-size: 0
				li
					text-transform: uppercase
					+font("md")
					display: inline-block
				li.active a, li a:hover 
					text-decoration: underline
					@each $section in $sections
						$name:    nth($section, 1)
						$color:   nth($section, 2)
						&.#{$name}
							color: $color
				&:after
					content: ''
					display: inline-block
					width: 100%

		&.page
			padding-top: $margin / 2
			border-color: $default

			.label
				+font("xs", "mono")
				text-transform: uppercase
				position: absolute
				top: $margin
				&:hover
					color: inherit
					text-decoration: underline

			.content
				color: $default
				.inner
					+font("md")
					border-width: $border-width 0 0 0
					border-style: solid

					.label
						left: 7.5px
						opacity: .5

					h1 
						+font("lg")
						margin: $margin * 2 0 $margin * 1.5
						a.edit
							text-decoration: none
						small
							color: inherit
							display: block
							+font(1.8, "mono")
							line-height: 1.3
							margin-bottom: $margin

					input[type=text], input[type=email], input[type=password], button
						padding: 18px 6px

					button span.caret
						top: 14px

					ul
						clear: left
					dl
						overflow: auto
						margin: $margin 0
						dt, dd
							float: left
							margin-bottom: $margin / 2
						dt
							clear: left
							+font("sm", "mono")
							text-transform: uppercase
							width: 100px
							padding-top: 4px

			.side
				form.switchboard
					border-width: $border-width
					border-style: solid
					padding: 20px 20px 5px
					background-color: white
					@include shadow()

				.label
					left: $margin

				.wallpaper
					position: relative
					padding: $margin * 2
					min-height: 400px
					+font(1.7)
					ul
						margin: 0
						padding: 0
						li
							list-style-type: none
							&.active a
								text-decoration: underline
					a
						color: $default
						&:hover
							color: $default
					p, .description, span
						color: $default
					h1
						+font(2.2)
						small
							color: $default
							display: block
							+font(1.6, "mono")
							margin-bottom: $margin / 2
					&::after
						content: ""
						opacity: 0.3
						z-index: -1
						background: url(/assets/img/wallpaper-bush1.jpg)
						position: absolute
						top: 0
						left: 0
						bottom: 0
						right: 0

	@each $section in $sections
		$name:    nth($section, 1)
		$color:   nth($section, 2)
		$light:   nth($section, 3)
		$lighter: nth($section, 4)
		&.#{$name}
			.background
				background: url(/assets/img/background-#{$name}.png) center center no-repeat
			a, small
				color: $color
			.page
				.inner
					border-color: $color
				.content
					color: $color
					a.btn.btn-primary, input[type=submit]
						color: white
						background-color: $color
					figure, mark
						background-color: $lighter
					blockquote
						border-left-color: $lighter
				.side
					form.switchboard
						border-color: $color
					.wallpaper
						@include background-opacity($color, .2)
					ul li.active a
						color: $color

	&.about
		.wallpaper
			text-transform: uppercase

	&.courses
		.row.page
			.content .inner 
				.target
					h1.group
						+font(2.8)

					ul 
						+font(1.6)
						list-style-type: none
						&.courses
							a
								+font(2.5)
				dl
					ul
						list-style-type: none
						padding: 0
						li
							overflow: auto
						span
							width: 150px
							float: left

				ul.instructors
					+font(1.6)
					list-style-type: none
					padding: 0
					overflow: auto
					li
						overflow: auto
						img
							float: left
							margin: 4px $margin 10px 0

	&.events
		.row.page .content .inner
			h1.group
				+font(2.5)
				margin: $margin * 2 0 0
			.event
				padding: $margin 0 0 $indent
				position: relative

				div.date
					+font("sm", "mono")
					line-height: 2
					left: 0
					position: absolute
				a.title
					+font("md", "bold")

	&.blog
		.row.page
			.content
				.inner
					.post
						margin: $margin * 2 0 $margin * 4

	&.publications
		.page
			.content
				.inner
					form
						margin: 0 0 $margin * 2 0 //temporary, paypal
					h3
						border-bottom: $border-width solid $publications
					.publication
						margin-bottom: 20px
						.inner
							background-color: $publications-lighter
							height: 300px
							border: 0
							background-size: contain
							background-position: center
							background-repeat: no-repeat
							a
								display: block
								height: 300px
								padding-top: 36%
								background-color: $publications
								opacity: 0
								div
									font-size: 80%
									color: white
									text-align: center
									line-height: 1
									font-style: italic
									.separator
										border-top: $border-width solid white
										width: 20px
										margin: 20px auto
								&:hover
									opacity: .8

	&.contact
		#map-canvas
			height: 500px
			.infowindow
				+font("md")
				height: 170px
				width: 300px
				h3
					+font("md", "bold")
					margin: 0 0 $margin
				p
					margin: 0 0 $margin
				a
					text-decoration: none

/* Small devices (tablets, 768px and up) */
@media (min-width: 768px)


/* Medium devices (desktops, 992px and up) */
@media (min-width: 992px)
	a.logo
		height: 93px

	.indent
		margin-left: $indent

	body.home
		.carousel
			.item
				h1
					left: 60px

				.description
					display: block



/* Large devices (large desktops, 1200px and up) */
@media (min-width: 1200px)
	a.logo
		height: 112px

	body.home
		.carousel
			.item
				h1
					+font("xl")
